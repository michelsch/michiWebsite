<!DOCTYPE html>
<html >
  <head>
    <meta charset="UTF-8">
    <title>Realtime AngularJS chat with PubNub</title>

    <link rel='stylesheet prefetch' href='http://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/css/materialize.min.css'>
    <link rel='stylesheet prefetch' href='http://fonts.googleapis.com/icon?family=Material+Icons'>
    <link rel="stylesheet" href="css/chat.css">
  </head>
  <body ng-app="app" ng-controller="ChatCtrl">
     <ul class="collection">
       <li class="collection-item avatar" ng-repeat="message in messages">
         <img src="{{avatarUrl(message.sender_uuid)}}" alt="{{message.sender_uuid}}" class="circle">
         <span class="title">Anonymous robot #{{ message.sender_uuid }}</span>
         <p><i class="prefix mdi-action-alarm"></i><span class="message-date">{{ message.date | date:"MM/dd/yyyy 'at' h:mma"}}</span></br> {{ message.content }}</p>
       </li>
     </ul>
     <footer class="teal">
       <form ng-submit="sendMessage()" class="container">
         <div class="row">
           <div class="input-field col s10">
             <i class="prefix mdi-communication-chat"></i>
             <input ng-model="messageContent" type="text" placeholder="Type your message" >
             <span class="chip left">
               <img src="{{avatarUrl(uuid)}}">
              Anonymous robot #{{uuid}}
             </span>
           </div>
           <div class="input-field col s2">
             <button type="submit" class="waves-effect waves-light btn-floating btn-large submitButton">
               <i class="mdi-content-send"></i>
             </button>
             <button ng-click="getPinyin()" class="waves-effect waves-light btn-floating btn-large pinyinButton">
               <i class="material-icons">translate</i>
             </button>
           </div>
         </div>
        </form>
     </footer>
</body>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.14/angular.min.js'></script>
    <script src='http://cdn.pubnub.com/pubnub-3.7.21.js'></script>
    <script src='http://cdn.pubnub.com/sdk/pubnub-angular/pubnub-angular-3.1.1.min.js'></script>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js'></script>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.2.0/lodash.js'></script>
    <script src="js/chat.js"></script>
    <script src="js/cjst.js"></script>
  </body>
</html>
